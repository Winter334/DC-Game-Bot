# ğŸ® æ¸¸æˆä¸­å¿ƒ Discord Bot

ä¸€ä¸ªå¤šåŠŸèƒ½çš„ Discord æ¸¸æˆæœºå™¨äººï¼Œç›®å‰æ”¯æŒæ¶é­”è½®ç›˜èµŒï¼ˆBuckshot Rouletteï¼‰æ¸¸æˆã€‚

## âœ¨ åŠŸèƒ½ç‰¹ç‚¹

- ğŸ° **é€šç”¨ç­¹ç ç³»ç»Ÿ** - è·¨æ¸¸æˆé€šç”¨çš„è™šæ‹Ÿè´§å¸
- ğŸ¤– **PvEæ¨¡å¼** - ä¸AIå¯¹æˆ˜ï¼Œæ¸è¿›éš¾åº¦
- âš”ï¸ **PvPæ¨¡å¼** - ä¸å…¶ä»–ç©å®¶å¯¹æˆ˜
- ğŸ“Š **ç»Ÿè®¡ç³»ç»Ÿ** - è®°å½•æ¸¸æˆæ•°æ®å’Œæ’è¡Œæ¦œ
- ğŸ **æ¯æ—¥ç­¾åˆ°** - æ¯å¤©é¢†å–å…è´¹ç­¹ç 

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env`ï¼Œå¹¶å¡«å…¥ä½ çš„ Bot Tokenï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```
BOT_TOKEN=ä½ çš„Discord_Bot_Token
```

### 3. è¿è¡ŒBot

```bash
python bot.py
```

**Windows:** åŒå‡» `start.bat`

**Linux/Ubuntu:**

```bash
chmod +x start.sh
./start.sh
```

## ğŸ§ Ubuntu/Linux éƒ¨ç½²æŒ‡å—

### ç³»ç»Ÿè¦æ±‚

- Ubuntu 18.04+ / Debian 10+ / å…¶ä»–Linuxå‘è¡Œç‰ˆ
- Python 3.8+
- pip (PythonåŒ…ç®¡ç†å™¨)

### å®‰è£…æ­¥éª¤

1. **å®‰è£…Pythonå’Œpip**

```bash
sudo apt update
sudo apt install python3 python3-pip python3-venv -y
```

1. **å…‹éš†/ä¸Šä¼ é¡¹ç›®åˆ°æœåŠ¡å™¨**

```bash
cd /opt  # æˆ–å…¶ä»–ç›®å½•
# ä¸Šä¼ é¡¹ç›®æ–‡ä»¶å¤¹
```

1. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰**

```bash
cd discord-game-center
python3 -m venv venv
source venv/bin/activate
```

1. **å®‰è£…ä¾èµ–**

```bash
pip install -r requirements.txt
```

1. **é…ç½®ç¯å¢ƒå˜é‡**

```bash
cp .env.example .env
nano .env  # ç¼–è¾‘å¹¶å¡«å…¥BOT_TOKEN
```

1. **è¿è¡ŒBot**

```bash
python3 bot.py
```

### ä½¿ç”¨ systemd åå°è¿è¡Œï¼ˆæ¨èï¼‰

åˆ›å»ºæœåŠ¡æ–‡ä»¶ï¼š

```bash
sudo nano /etc/systemd/system/game-center-bot.service
```

å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼ˆæ ¹æ®å®é™…è·¯å¾„ä¿®æ”¹ï¼‰ï¼š

```ini
[Unit]
Description=Game Center Discord Bot
After=network.target

[Service]
Type=simple
User=ä½ çš„ç”¨æˆ·å
WorkingDirectory=/opt/discord-game-center
ExecStart=/opt/discord-game-center/venv/bin/python bot.py
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

å¯ç”¨å¹¶å¯åŠ¨æœåŠ¡ï¼š

```bash
sudo systemctl daemon-reload
sudo systemctl enable game-center-bot
sudo systemctl start game-center-bot
```

æŸ¥çœ‹çŠ¶æ€å’Œæ—¥å¿—ï¼š

```bash
sudo systemctl status game-center-bot
sudo journalctl -u game-center-bot -f
```

### ä½¿ç”¨ screen åå°è¿è¡Œï¼ˆç®€å•æ–¹å¼ï¼‰

```bash
# å®‰è£…screen
sudo apt install screen -y

# åˆ›å»ºæ–°ä¼šè¯
screen -S gamebot

# åœ¨ä¼šè¯ä¸­è¿è¡Œ
cd /opt/discord-game-center
source venv/bin/activate
python3 bot.py

# æŒ‰ Ctrl+A ç„¶åæŒ‰ D åˆ†ç¦»ä¼šè¯
# é‡æ–°è¿æ¥: screen -r gamebot
```

## ğŸ³ Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

Dockeréƒ¨ç½²æ˜¯æœ€ç®€å•ã€æœ€å¯é çš„æ–¹å¼ï¼Œç‰¹åˆ«é€‚åˆVPSéƒ¨ç½²ã€‚

### ä¼˜åŠ¿

- âœ… ç¯å¢ƒéš”ç¦»ï¼Œä¸å½±å“ç³»ç»Ÿ
- âœ… ä¸€é”®éƒ¨ç½²ï¼Œæ— éœ€æ‰‹åŠ¨å®‰è£…ä¾èµ–
- âœ… è‡ªåŠ¨é‡å¯ï¼Œç¨³å®šè¿è¡Œ
- âœ… æ˜“äºæ›´æ–°å’Œå›æ»š
- âœ… æ—¥å¿—ç®¡ç†æ–¹ä¾¿

### å®‰è£…Docker

```bash
# Ubuntu/Debian
curl -fsSL https://get.docker.com | sh
sudo usermod -aG docker $USER
# é‡æ–°ç™»å½•ä»¥ç”Ÿæ•ˆ
```

### å¿«é€Ÿéƒ¨ç½²

1. **ä¸Šä¼ é¡¹ç›®åˆ°æœåŠ¡å™¨**

2. **é…ç½®ç¯å¢ƒå˜é‡**

```bash
cd discord-game-center
cp .env.example .env
nano .env  # å¡«å…¥BOT_TOKEN
```

1. **å¯åŠ¨Bot**

```bash
# ä½¿ç”¨docker-composeï¼ˆæ¨èï¼‰
docker compose up -d

# æˆ–ä½¿ç”¨dockerå‘½ä»¤
docker build -t game-center-bot .
docker run -d --name game-center-bot \
  --restart unless-stopped \
  -v $(pwd)/data:/app/data \
  -v $(pwd)/.env:/app/.env \
  game-center-bot
```

### å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹çŠ¶æ€
docker compose ps

# æŸ¥çœ‹æ—¥å¿—
docker compose logs -f

# é‡å¯Bot
docker compose restart

# åœæ­¢Bot
docker compose down

# æ›´æ–°Botï¼ˆä»£ç æ›´æ–°åï¼‰
docker compose build
docker compose up -d
```

### æ•°æ®æŒä¹…åŒ–

æ•°æ®åº“æ–‡ä»¶ä¿å­˜åœ¨ `./data/` ç›®å½•ï¼Œé€šè¿‡Dockerå·æŒ‚è½½å®ç°æŒä¹…åŒ–ã€‚
å³ä½¿å®¹å™¨åˆ é™¤é‡å»ºï¼Œæ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚

## ğŸ“ å‘½ä»¤

| å‘½ä»¤    | æè¿°             |
| ------- | ---------------- |
| `/game` | æ‰“å¼€æ¸¸æˆä¸­å¿ƒé¢æ¿ |

## ğŸ° æ¶é­”è½®ç›˜èµŒ

### æ¸¸æˆè§„åˆ™

- ä½¿ç”¨éœ°å¼¹æªï¼Œè£…å¡«æ··åˆçš„å®å¼¹å’Œç©ºåŒ…å¼¹ï¼ˆ2-8å‘éšæœºï¼‰
- è½®æµè¡ŒåŠ¨ï¼Œå¯ä»¥å°„å‡»å¯¹æ‰‹ã€å°„å‡»è‡ªå·±æˆ–ä½¿ç”¨é“å…·
- å°„å‡»è‡ªå·±æ—¶ï¼Œç©ºåŒ…å¼¹å¯ä¿ç•™è¡ŒåŠ¨æƒ
- ç”Ÿå‘½å€¼å½’é›¶è€…å¤±è´¥
- æ¯é˜¶æ®µ3è½®è¡€é‡é€’å¢ï¼šç¬¬1è½®2ç‚¹ â†’ ç¬¬2è½®4ç‚¹ â†’ ç¬¬3è½®5ç‚¹
- **è·¨è½®æ¸…é™¤é“å…·**ï¼šæ¯è½®ç»“æŸåæ¸…ç©ºæ‰€æœ‰é“å…·
- **é“å…·å‘æ”¾æ—¶æœº**ï¼šæ¯è½®å¼€å§‹æ—¶å’Œå¼¹å¤¹æ‰“ç©ºæ—¶å‘æ”¾1-3ä¸ªéšæœºé“å…·

### æ¸¸æˆæ¨¡å¼

- **å•äººæŒ‘æˆ˜ (PvE)**: æ¸è¿›éš¾åº¦ï¼Œæ¯3è½®å¯é€‰æ‹©æ’¤ç¦»æˆ–ç¿»å€ï¼Œç©å®¶å§‹ç»ˆå…ˆæ‰‹
- **PvPå¯¹æˆ˜**: 3è½®2èƒœåˆ¶ï¼Œç¬¬ä¸€è½®éšæœºå…ˆæ‰‹ï¼Œä¹‹åè¾“å®¶å…ˆæ‰‹
- **å¿«é€Ÿæ¨¡å¼**: å•è½®å¿«é€Ÿæ¸¸æˆ

### é“å…·ç³»ç»Ÿ

#### æ™®é€šé“å…· (70%)

| é“å…·       | æ•ˆæœ                   |
| ---------- | ---------------------- |
| ğŸ” æ”¾å¤§é•œ   | æŸ¥çœ‹å½“å‰å­å¼¹ç±»å‹       |
| ğŸº å•¤é…’     | é€€å‡ºå½“å‰å­å¼¹           |
| ğŸš¬ é¦™çƒŸ     | æ¢å¤1ç‚¹ç”Ÿå‘½            |
| ğŸ”ª æ‰‹é”¯     | ä¸‹ä¸€å‘å®å¼¹é€ æˆ2ç‚¹ä¼¤å®³  |
| ğŸ”— æ‰‹é“     | è·³è¿‡å¯¹æ‰‹ä¸‹å›åˆ         |
| ğŸ’Š è¿‡æœŸè¯ç‰© | 50%æ¢å¤2ç‚¹/50%æ‰£1ç‚¹    |
| ğŸ”„ é€†è½¬å™¨   | åˆ‡æ¢å½“å‰å­å¼¹ç±»å‹       |
| ğŸ“± çªƒè´¼ç”µè¯ | éšæœºå¾—çŸ¥æŸä½ç½®å­å¼¹ç±»å‹ |

#### ç¨€æœ‰é“å…· (25%)

| é“å…·       | æ•ˆæœ                                            |
| ---------- | ----------------------------------------------- |
| ğŸ’‰ è‚¾ä¸Šè…ºç´  | å·å–å¯¹æ‰‹ä¸€ä¸ªé“å…·å¹¶ç«‹å³ä½¿ç”¨                      |
| ğŸ”­ æœ›è¿œé•œ   | æŸ¥çœ‹ç¬¬2å‘å­å¼¹ç±»å‹                               |
| ğŸ’£ æ‰‹é›·     | å¯¹å¯¹æ‰‹é€ æˆ1ç‚¹ä¼¤å®³ï¼ˆæ— è§†é˜²å¼¹è¡£ï¼Œä½†æ— æ³•æ€æ­»å¯¹æ‰‹ï¼‰ |
| ğŸª™ å‘½è¿ç¡¬å¸ | æŠ›ç¡¬å¸ï¼šæ­£é¢å˜å®å¼¹ï¼Œåé¢å˜ç©ºåŒ…å¼¹                |

#### å²è¯—é“å…· (5%)

| é“å…·       | æ•ˆæœ                                               |
| ---------- | -------------------------------------------------- |
| ğŸ“¡ å¹²æ‰°å™¨   | é€‰æ‹©å¹²æ‰°å¯¹æ‰‹çš„ä¸€ä¸ªé“å…·ï¼ˆè¢«å¹²æ‰°çš„æ‰‹é›·ä¼šç‚¸ä¼¤æŒæœ‰è€…ï¼‰ |
| ğŸ¦º é˜²å¼¹èƒŒå¿ƒ | ä¸‹ä¸€æ¬¡å—åˆ°ä¼¤å®³æ—¶å‡å°‘1ç‚¹                            |

## ğŸ“ é¡¹ç›®ç»“æ„

```
discord-game-center/
â”œâ”€â”€ bot.py                    # Botä¸»å…¥å£
â”œâ”€â”€ config.py                 # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt          # Pythonä¾èµ–
â”œâ”€â”€ .env                      # ç¯å¢ƒå˜é‡
â”‚
â”œâ”€â”€ cogs/                     # Discord Cogsæ¨¡å—
â”‚   â””â”€â”€ game_center.py        # æ¸¸æˆä¸­å¿ƒå‘½ä»¤
â”‚
â”œâ”€â”€ core/                     # æ ¸å¿ƒç³»ç»Ÿ
â”‚   â”œâ”€â”€ economy.py            # ç­¹ç ç»æµç³»ç»Ÿ
â”‚   â”œâ”€â”€ player_data.py        # ç©å®¶æ•°æ®ç®¡ç†
â”‚   â””â”€â”€ daily.py              # æ¯æ—¥ç­¾åˆ°ç³»ç»Ÿ
â”‚
â”œâ”€â”€ games/                    # æ¸¸æˆæ¨¡å—
â”‚   â”œâ”€â”€ base.py               # æ¸¸æˆåŸºç±»
â”‚   â””â”€â”€ buckshot_roulette/    # æ¶é­”è½®ç›˜èµŒ
â”‚
â”œâ”€â”€ ui/                       # é€šç”¨UIç»„ä»¶
â”‚   â”œâ”€â”€ base_views.py         # åŸºç¡€Viewç±»
â”‚   â””â”€â”€ menus.py              # èœå•ç»„ä»¶
â”‚
â”œâ”€â”€ data/                     # æ•°æ®å­˜å‚¨
â”‚   â”œâ”€â”€ database.py           # æ•°æ®åº“è¿æ¥
â”‚   â””â”€â”€ models.py             # æ•°æ®æ¨¡å‹
â”‚
â””â”€â”€ utils/                    # å·¥å…·å‡½æ•°
    â”œâ”€â”€ constants.py          # å¸¸é‡å®šä¹‰
    â””â”€â”€ helpers.py            # è¾…åŠ©å‡½æ•°
```

## ğŸ”§ å¼€å‘è¿›åº¦

- [x] ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€æ¡†æ¶
- [x] ç¬¬äºŒé˜¶æ®µï¼šç»æµç³»ç»Ÿ
- [x] ç¬¬ä¸‰é˜¶æ®µï¼šæ¶é­”è½®ç›˜èµŒæ ¸å¿ƒ
- [x] ç¬¬å››é˜¶æ®µï¼šé“å…·ç³»ç»Ÿ
- [x] ç¬¬äº”é˜¶æ®µï¼šPvEæ¸è¿›ç³»ç»Ÿ
- [x] ç¬¬å…­é˜¶æ®µï¼šAIç³»ç»Ÿ
- [x] ç¬¬ä¸ƒé˜¶æ®µï¼šPvPç³»ç»Ÿ
- [x] ç¬¬å…«é˜¶æ®µï¼šç»Ÿè®¡å’Œæ”¶å°¾

## ğŸ“„ è®¸å¯è¯

MIT License
